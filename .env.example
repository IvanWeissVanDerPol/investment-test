########################################
# Investment System Environment Variables
# SECURITY WARNING: Never commit .env with actual values
# Copy to .env and fill with secure values
########################################

# ==== Environment =====
ENVIRONMENT=development  # Options: development, staging, production
DEBUG=false  # NEVER true in production
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
HOST=127.0.0.1  # Use 127.0.0.1 for local only, avoid 0.0.0.0 in production
PORT=8000

# ==== Database =====
# Primary DB connection. Prefer Postgres in dev/prod.
DATABASE_URL=postgresql://username:password@localhost:5432/investmentai
# Optional local SQLite path for quick local dev (unused if DATABASE_URL is set to Postgres)
SQLITE_DB_PATH=core/database/investment_system.db
# SQLAlchemy pool tuning
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# ==== APIs / Integrations =====
ALPHA_VANTAGE_API_KEY=
TWELVEDATA_API_KEY=
POLYGON_API_KEY=
FINNHUB_API_KEY=
NEWSAPI_KEY=
YOUTUBE_API_KEY=
CLAUDE_API_KEY=
ALPACA_API_KEY=
ALPACA_API_SECRET=

# ==== Security (CRITICAL - Generate unique values) =====
# Generate with: openssl rand -base64 32
SECRET_KEY=CHANGE_THIS_IMMEDIATELY_USE_OPENSSL_RAND
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=CHANGE_THIS_IMMEDIATELY_USE_FERNET
# CRITICAL: Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_IMMEDIATELY_USE_OPENSSL_RAND
JWT_SECRET_KEY=CHANGE_THIS_IMMEDIATELY_USE_OPENSSL_RAND
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
ENABLE_HTTPS=true  # Always true in production
SESSION_TIMEOUT=900  # 15 minutes for security

# ==== Caching / Queues =====
REDIS_URL=redis://localhost:6379/1

# ==== Rate Limiting =====
API_RATE_LIMIT_PER_MINUTE=60
API_RATE_LIMIT_PER_HOUR=1000
API_RATE_LIMIT_PER_DAY=10000

# ==== Portfolio Defaults =====
DEFAULT_PORTFOLIO_BALANCE=900.00
DEFAULT_RISK_TOLERANCE=medium
DEFAULT_MAX_POSITION_PERCENT=15.0
REBALANCE_THRESHOLD=5.0
MIN_POSITION_SIZE=50.0

# ==== Interactive Brokers (optional) =====
IB_HOST=127.0.0.1
IB_TWS_PORT=7497
IB_GATEWAY_PORT=4001
IB_CLIENT_ID=1

# ==== Email (optional) =====
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
EMAIL_RECIPIENT=

# ==== PowerBI (optional) =====
POWERBI_REPORT_ID=

# ==== Security Best Practices =====
# 1. NEVER commit actual values to git
# 2. Use a secret manager in production (HashiCorp Vault, AWS Secrets Manager)
# 3. Rotate all keys regularly (monthly minimum)
# 4. Use different keys for each environment
# 5. Enable audit logging for all key access
# 6. Use strong passwords (min 16 chars, mixed case, numbers, symbols)
# 7. Enable MFA for all production access
# 8. Monitor for exposed secrets with tools like GitHub secret scanning

# ==== Password Policy =====
MIN_PASSWORD_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=15

# ==== Audit & Monitoring =====
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_PATH=/secure/logs/audit/
ENABLE_SECURITY_MONITORING=true
ALERT_ON_SUSPICIOUS_ACTIVITY=true

# ==== Demo Mode (Development Only) =====
# Only used when ENVIRONMENT=development
DEMO_API_KEY=  # Leave empty to auto-generate